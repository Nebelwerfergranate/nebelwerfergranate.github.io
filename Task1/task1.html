<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8" />
		<title>Заголовок</title>
		<!-- подключаем стили Mocha, для отображения результатов -->
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.css">
	    <link rel="stylesheet" href="style.css">
	    <!-- подключаем библиотеку Mocha -->
	 	 <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/2.1.0/mocha.js"></script>
	  	<!-- настраиваем Mocha: предстоит BDD-тестирование -->
		<script>
			mocha.setup('bdd');
	 	</script>
	
	  	<!-- подключаем chai -->
	  	<script src="https://cdnjs.cloudflare.com/ajax/libs/chai/2.0.0/chai.js"></script>
	 	<!-- в chai есть много всего, выносим assert в глобальную область -->
	  	<script>
	    	var assert = chai.assert;
	  	</script>
	</head>
	<body>
		<div class="container">
			<div id="screen"></div>
			<button id="btn">Следующий шаг</button>
			<!-- в элементе с id="mocha" будут результаты тестов -->
  			<div id="mocha"></div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		
		<script type="text/javascript" src="sorter.js"></script>
		
		<script>
		    function pow(x, n) {
		      /* код функции, пока что пусто */
		    }
		</script>
		<!-- в этом скрипте находятся спеки -->
  		<script src="test.js"></script>
  		
		
		<script>
			mocha.run();
			
            $().ready(function(){
	            var data = [];
		        var capacity = 10;
		        for(var i = 0; i < capacity; i ++){
		            data.push(getRandomInt(-100, 100));
        		}
	            
	           	var sorter = new Sorter(data);
	           	
	            for(var i = 0; i < sorter.data.length; i++){
		        	$("#screen").append( "<p>" + sorter.data[i] + "</p>" );
		        }
	            
	            $("#btn").on("click", function(){
	            	sorter.nextStep();
	            	
	            	$("#screen").html("");
	            	for(var i = 0; i < sorter.data.length; i++){
		           		$("#screen").append( "<p>" + sorter.data[i] + "</p>" );
		           	}
		           	
		           	if(sorter.isChanged){
		           		$("#screen p").eq(sorter.position).addClass("red");
		            	$("#screen p").eq(sorter.position + 1).addClass("red");
		           	} else{
		           		$("#screen p").eq(sorter.position).addClass("yellow");
		            	$("#screen p").eq(sorter.position + 1).addClass("yellow");	
		           	}
	            });
            
                function getRandomInt(min, max) {
	        		return Math.floor(Math.random() * (max - min)) + min;
	    		}
            });
		</script>
	</body>
</html>